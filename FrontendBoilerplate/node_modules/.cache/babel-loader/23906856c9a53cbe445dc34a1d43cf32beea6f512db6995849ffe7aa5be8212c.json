{"ast":null,"code":"import _styled from \"styled-components\"; // styling\nvar _jsxFileName = \"/Users/kenzman/Desktop/ethglobal/MEDISYNC/Frontend Boilerplate/src/widgets/PaymentsHistory/index.jsx\",\n  _s = $RefreshSig$();\nimport { flex, breakpoints } from '@styles/vars';\n\n// components\nimport Widget from '@components/Widget';\nimport WidgetHeader from '@components/Widget/WidgetHeader';\nimport WidgetBody from '@components/Widget/WidgetBody';\nimport PaymentItem from '@components/PaymentItem';\nimport Navigator from '@ui/Navigator';\nimport ScrollContainer from '@components/ScrollContainer';\nimport NoDataPlaceholder from '@components/NoDataPlaceholder';\n\n// utils\nimport { nanoid } from 'nanoid';\nimport { getYearDaysArray } from '@utils/dates';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\n\n// hooks\nimport useArrayNav from '@hooks/useArrayNav';\nimport { useEffect, useRef } from 'react';\nimport useContentHeight from '@hooks/useContentHeight';\nimport useWindowSize from '@hooks/useWindowSize';\n\n// data placeholder\nimport { paymentsHistory } from '@db/payments_history';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = _styled.div.withConfig({\n  displayName: \"PaymentsHistory__Container\",\n  componentId: \"sc-c10uqe-0\"\n})([\".list{\", \";gap:20px 24px;padding:20px 24px;.column{\", \";gap:20px;}}\", \"{.list{\", \"}}\"], flex.col, flex.col, breakpoints.tablet, props => props.variant === 'large' && `\n        display: grid;\n        grid-template-columns: repeat(2, 1fr);\n      `);\n_c = Container;\nconst PaymentsHistory = ({\n  variant\n}) => {\n  _s();\n  const days = getYearDaysArray();\n  const todayIndex = moment().diff(moment().startOf('year'), 'days');\n  const {\n    index,\n    setIndex,\n    navigate\n  } = useArrayNav(days);\n  const paymentsByDate = paymentsHistory.filter(payment => moment(payment.date).isSame(days[index].date, 'day'));\n  const payments = variant === 'large' ? paymentsByDate : paymentsHistory;\n  const isTablet = useWindowSize().width >= 768;\n  const headerRef = useRef(null);\n  const footerRef = useRef(null);\n  const height = useContentHeight(headerRef, footerRef);\n  useEffect(() => {\n    setIndex(todayIndex);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [todayIndex]);\n  return /*#__PURE__*/_jsxDEV(Widget, {\n    name: \"PaymentsHistory\",\n    mobile: 600,\n    children: [variant === 'compact' && /*#__PURE__*/_jsxDEV(WidgetHeader, {\n      title: \"Payments history\",\n      elRef: headerRef,\n      style: {\n        paddingBottom: 0\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(WidgetBody, {\n      style: {\n        padding: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(ScrollContainer, {\n        height: height,\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          className: \"track\",\n          variant: variant,\n          children: payments.length !== 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"list\",\n            children: payments.map((payment, i) => i % 3 === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"column\",\n              children: payments.slice(i, i + 3).map(payment => /*#__PURE__*/_jsxDEV(PaymentItem, {\n                data: payment,\n                className: isTablet && variant === 'large'\n              }, nanoid(), false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 57\n              }, this))\n            }, nanoid(), false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 45\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(NoDataPlaceholder, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), variant === 'large' && /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: footerRef,\n        style: {\n          padding: '0 2px 2px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Navigator, {\n          text: days[index].long,\n          handler: e => navigate(e),\n          nextDisabled: index === todayIndex\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\n_s(PaymentsHistory, \"Q60OPw8XuwcrGOToeze6TsnT204=\", false, function () {\n  return [useArrayNav, useWindowSize, useContentHeight];\n});\n_c2 = PaymentsHistory;\nPaymentsHistory.propTypes = {\n  variant: PropTypes.oneOf(['compact', 'large']).isRequired\n};\nexport default PaymentsHistory;\nvar _c, _c2;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"PaymentsHistory\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","flex","breakpoints","Widget","WidgetHeader","WidgetBody","PaymentItem","Navigator","ScrollContainer","NoDataPlaceholder","nanoid","getYearDaysArray","moment","PropTypes","useArrayNav","useEffect","useRef","useContentHeight","useWindowSize","paymentsHistory","jsxDEV","_jsxDEV","Container","styled","div","withConfig","displayName","componentId","col","tablet","props","variant","_c","PaymentsHistory","days","todayIndex","diff","startOf","index","setIndex","navigate","paymentsByDate","filter","payment","date","isSame","payments","isTablet","width","headerRef","footerRef","height","name","mobile","children","title","elRef","style","paddingBottom","fileName","lineNumber","columnNumber","padding","className","length","map","i","slice","data","ref","text","long","handler","e","nextDisabled","_c2","propTypes","oneOf","isRequired","$RefreshReg$"],"sources":["/Users/kenzman/Desktop/ethglobal/MEDISYNC/Frontend Boilerplate/src/widgets/PaymentsHistory/index.jsx"],"sourcesContent":["// styling\nimport styled from 'styled-components/macro';\nimport {flex, breakpoints} from '@styles/vars';\n\n// components\nimport Widget from '@components/Widget';\nimport WidgetHeader from '@components/Widget/WidgetHeader';\nimport WidgetBody from '@components/Widget/WidgetBody';\nimport PaymentItem from '@components/PaymentItem';\nimport Navigator from '@ui/Navigator';\nimport ScrollContainer from '@components/ScrollContainer';\nimport NoDataPlaceholder from '@components/NoDataPlaceholder';\n\n// utils\nimport {nanoid} from 'nanoid';\nimport {getYearDaysArray} from '@utils/dates';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\n\n// hooks\nimport useArrayNav from '@hooks/useArrayNav';\nimport {useEffect, useRef} from 'react';\nimport useContentHeight from '@hooks/useContentHeight';\nimport useWindowSize from '@hooks/useWindowSize';\n\n// data placeholder\nimport {paymentsHistory} from '@db/payments_history';\n\nconst Container = styled.div`\n  .list {\n    ${flex.col};\n    gap: 20px 24px;\n    padding: 20px 24px;\n\n    .column {\n      ${flex.col};\n      gap: 20px;\n    }\n  }\n\n  ${breakpoints.tablet} {\n    .list {\n      ${props => props.variant === 'large' && `\n        display: grid;\n        grid-template-columns: repeat(2, 1fr);\n      `}\n    }\n  }\n`;\n\nconst PaymentsHistory = ({variant}) => {\n    const days = getYearDaysArray();\n    const todayIndex = moment().diff(moment().startOf('year'), 'days');\n    const {index, setIndex, navigate} = useArrayNav(days);\n    const paymentsByDate = paymentsHistory.filter(payment => moment(payment.date).isSame(days[index].date, 'day'));\n    const payments = variant === 'large' ? paymentsByDate : paymentsHistory;\n    const isTablet = useWindowSize().width >= 768;\n\n    const headerRef = useRef(null);\n    const footerRef = useRef(null);\n    const height = useContentHeight(headerRef, footerRef);\n\n    useEffect(() => {\n        setIndex(todayIndex);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [todayIndex]);\n\n    return (\n        <Widget name=\"PaymentsHistory\" mobile={600}>\n            {variant === 'compact' &&\n                <WidgetHeader title=\"Payments history\" elRef={headerRef} style={{paddingBottom: 0}}/>\n            }\n            <WidgetBody style={{padding: 0}}>\n                <ScrollContainer height={height}>\n                    <Container className=\"track\" variant={variant}>\n                        {\n                            payments.length !== 0 ?\n                                <div className=\"list\">\n                                    {\n                                        payments.map((payment, i) => (\n                                            i % 3 === 0 &&\n                                            <div className=\"column\" key={nanoid()}>\n                                                {\n                                                    payments.slice(i, i + 3).map(payment => (\n                                                        <PaymentItem data={payment}\n                                                                     key={nanoid()}\n                                                                     className={isTablet && variant === 'large'}/>\n                                                    ))\n                                                }\n                                            </div>\n                                        ))\n                                    }\n                                </div> : <NoDataPlaceholder/>\n                        }\n                    </Container>\n                </ScrollContainer>\n                {\n                    variant === 'large' &&\n                    <div ref={footerRef} style={{padding: '0 2px 2px'}}>\n                        <Navigator text={days[index].long} handler={e => navigate(e)}\n                                   nextDisabled={index === todayIndex}/>\n                    </div>\n                }\n            </WidgetBody>\n        </Widget>\n    )\n}\n\nPaymentsHistory.propTypes = {\n    variant: PropTypes.oneOf(['compact', 'large']).isRequired\n}\n\nexport default PaymentsHistory;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}